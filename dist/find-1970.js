var t=require("expo-file-system/next"),e=require("geobuf"),i=require("@turf/boolean-point-in-polygon"),r=require("@turf/helpers"),o=require("pbf");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=/*#__PURE__*/n(i),d=/*#__PURE__*/n(o),l=[{tzid:"Etc/GMT-12",left:172.5,right:180},{tzid:"Etc/GMT-11",left:157.5,right:172.5},{tzid:"Etc/GMT-10",left:142.5,right:157.5},{tzid:"Etc/GMT-9",left:127.5,right:142.5},{tzid:"Etc/GMT-8",left:112.5,right:127.5},{tzid:"Etc/GMT-7",left:97.5,right:112.5},{tzid:"Etc/GMT-6",left:82.5,right:97.5},{tzid:"Etc/GMT-5",left:67.5,right:82.5},{tzid:"Etc/GMT-4",left:52.5,right:67.5},{tzid:"Etc/GMT-3",left:37.5,right:52.5},{tzid:"Etc/GMT-2",left:22.5,right:37.5},{tzid:"Etc/GMT-1",left:7.5,right:22.5},{tzid:"Etc/GMT",left:-7.5,right:7.5},{tzid:"Etc/GMT+1",left:-22.5,right:-7.5},{tzid:"Etc/GMT+2",left:-37.5,right:-22.5},{tzid:"Etc/GMT+3",left:-52.5,right:-37.5},{tzid:"Etc/GMT+4",left:-67.5,right:-52.5},{tzid:"Etc/GMT+5",left:-82.5,right:-67.5},{tzid:"Etc/GMT+6",left:-97.5,right:-82.5},{tzid:"Etc/GMT+7",left:-112.5,right:-97.5},{tzid:"Etc/GMT+8",left:-127.5,right:-112.5},{tzid:"Etc/GMT+9",left:-142.5,right:-127.5},{tzid:"Etc/GMT+10",left:-157.5,right:-142.5},{tzid:"Etc/GMT+11",left:-172.5,right:-157.5},{tzid:"Etc/GMT+12",left:-180,right:-172.5}];function a(t){if(-180===t||180===t)return["Etc/GMT+12","Etc/GMT-12"];for(var e=[],i=0;i<l.length;i++){var r=l[i];if(r.left<=t&&r.right>=t)e.push(r.tzid);else if(r.right<t)break}return e}var c=void 0;function u(i,r,o,n){var f=new t.File(globalThis.geoTzFeatureFilePath).open();f.offset=r;var l=f.readBytes(o),a=new d.default(l);return e.decode(a)}var h,g=require("../data/timezones-1970.geojson.index.json");function p(t){h=function(t,e,i){var r;if(r=i&&i.store&&"function"==typeof i.store.get&&"function"==typeof i.store.set?i.store:new Map,i&&i.preload){var o=c.openSync(void 0,"r");if(o<0)throw new Error("Failed to open geo.dat file");!function(t,e,i,r){!function t(e,i){if(e.pos>=0&&e.len){var o=u(0,e.pos,e.len);r.set(i,o)}else"object"==typeof e&&Object.getOwnPropertyNames(e).forEach(function(r){t(e[r],i+r)})}(t.lookup,"")}(t,0,0,r),c.closeSync(o)}return r}(g,0,t)}p(),exports.find=function(t,e){return function(t,e,i,o,n){var d=n;if(isNaN(o)||o>90||o<-90)throw new Error("Invalid latitude: "+o);if(isNaN(n)||n>180||n<-180)throw new Error("Invalid longitude: "+n);if(90===o)return l.map(function(t){return t.tzid});o>=89.9999?o=89.9999:o<=-89.9999&&(o=-89.9999),n>=179.9999?n=179.9999:n<=-179.9999&&(n=-179.9999);for(var c=r.point([n,o]),h={top:89.9999,bottom:-89.9999,left:-179.9999,right:179.9999,midLat:0,midLon:0},g="",p=t.lookup;;){var s=void 0;if(o>=h.midLat&&n>=h.midLon?(s="a",h.bottom=h.midLat,h.left=h.midLon):o>=h.midLat&&n<h.midLon?(s="b",h.bottom=h.midLat,h.right=h.midLon):o<h.midLat&&n<h.midLon?(s="c",h.top=h.midLat,h.right=h.midLon):(s="d",h.top=h.midLat,h.left=h.midLon),g+=s,!(p=p[s]))return a(d);if(p.pos>=0&&p.len){var E=e.get(g);E||(E=u(0,p.pos,p.len),e.set(g,E));for(var z=[],T=0;T<E.features.length;T++)f.default(c,E.features[T])&&z.push(E.features[T].properties.tzid);return z.length>0?z:a(d)}if(p.length>0)return p.map(function(e){return t.timezones[e]});if("object"!=typeof p)throw new Error("Unexpected data type");h.midLat=(h.top+h.bottom)/2,h.midLon=(h.left+h.right)/2}}(g,h,0,t,e)},exports.preCache=function(){p({preload:!0})},exports.setCache=p;
//# sourceMappingURL=find-1970.js.map
